<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chapter 2: Descriptive Statistics • stat0002</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Chapter 2: Descriptive Statistics">
<meta property="og:description" content="stat0002">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stat0002</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/stat0002-ch1a-shuttle-vignette.html">Chapter 1: The Challenger Space Shuttle Disaster</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch1b-stochastic-simulation-vignette.html">Chapter 1: Stochastic Simulation</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch2a-descriptive-statistics-vignette.html">Chapter 2: Descriptive Statistics</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch2b-graphs-vignette.html">Chapter 2: Graphs (One Variable)</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch2c-graphs-vignette.html">Chapter 2: Graphs (More Than One Variable)</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch2d-box-cox-transformation-vignette.html">Chapter 2: Transformation Of Variable</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch5a-discrete-random-variables-vignette.html">Chapter 5: binomial, geometric and Poisson distributions</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch5b-continous-random-variables-vignette.html">Chapter 5: uniform, exponential and normal distributions</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/paulnorthrop/stat0002/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Chapter 2: Descriptive Statistics</h1>
                        <h4 class="author">Paul Northrop</h4>
            
            <h4 class="date">2020-06-18</h4>
      
      <small class="dont-index">Source: <a href="http://github.com/paulnorthrop/stat0002/blob/master/vignettes/stat0002-ch2a-descriptive-statistics-vignette.Rmd"><code>vignettes/stat0002-ch2a-descriptive-statistics-vignette.Rmd</code></a></small>
      <div class="hidden name"><code>stat0002-ch2a-descriptive-statistics-vignette.Rmd</code></div>

    </div>

    
    
<p>The main purpose of this vignette is to provide R code to calculate the summary statistics that feature in Section 2.3 of the <a href="https://moodle.ucl.ac.uk/course/view.php?id=8579&amp;section=3">STAT0002 notes</a> (apart from correlation, which we defer until Chapter 9). An important point to appreciate is that usually there is more than one way to estimate from data a particular theoretical property of the distribution from which the data came. For example, we will see that there are many different rules (<em>estimators</em>) that can be used to estimate a quantile of a distribution.</p>
<p>The R code used in this vignette are available: <a href="stat0002-ch2a-descriptive-statistics-vignette.R">descriptive-statistics-vignette.R</a>. The functions <code>five_number</code>, <code>skew</code> and <code>q_skew</code> can be viewed either by typing the name of the function at R command prompt <code><a href="https://rdrr.io/r/base/Comparison.html">&gt;</a></code> or at <a href="https://github.com/paulnorthrop/stat0002/tree/master/R/descriptive_statistics.R">GitHub</a></p>
<div id="the-oxford-birth-times-data" class="section level2">
<h2 class="hasAnchor">
<a href="#the-oxford-birth-times-data" class="anchor"></a>The Oxford Birth Times data</h2>
<p>These data are available in the data frame <code>ox_births</code>. Use <code><a href="../reference/ox_births.html">?ox_births</a></code> to find out about these data.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r">&gt; library(stat0002)</pre></body></html></div>
<p>We manipulate the data into a matrix that is of the same format as Table 2.1 in the notes. The number of birth times varies between days so we pad the matrix with R’s missing values code <code>NA</code> in order that each column of the matrix has the same number of rows.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r">&gt; ox_mat &lt;- matrix(NA, ncol = 7, nrow = 16)
&gt; for (i in 1:7) {
+   day_i_times &lt;- ox_births$time[which(ox_births$day == i)]
+   ox_mat[1:length(day_i_times), i] &lt;- sort(day_i_times)
+   colnames(ox_mat) &lt;- paste("day", 1:7, sep = "")
+ }  
&gt; ox_mat
       day1  day2  day3  day4  day5  day6  day7
 [1,]  2.10  4.00  2.60  1.50  2.50  4.00  2.00
 [2,]  3.40  4.10  3.60  4.70  2.50  4.00  2.70
 [3,]  4.25  5.00  3.60  4.70  3.40  5.25  2.75
 [4,]  5.60  5.50  6.40  7.20  4.20  6.10  3.40
 [5,]  6.40  5.70  6.80  7.25  5.90  6.50  4.20
 [6,]  7.30  6.50  7.50  8.10  6.25  6.90  4.30
 [7,]  8.50  7.25  7.50  8.50  7.30  7.00  4.90
 [8,]  8.75  7.30  8.25  9.20  7.50  8.45  6.25
 [9,]  8.90  7.50  8.50  9.50  7.80  9.25  7.00
[10,]  9.50  8.20 10.40 10.70  8.30 10.10  9.00
[11,]  9.75  8.50 10.75 11.50  8.30 10.20  9.25
[12,] 10.00  9.75 14.25    NA 10.25 12.75 10.70
[13,] 10.40 11.00 14.50    NA 12.90 14.60    NA
[14,] 10.40 11.20    NA    NA 14.30    NA    NA
[15,] 16.00 15.00    NA    NA    NA    NA    NA
[16,] 19.00 16.50    NA    NA    NA    NA    NA</pre></body></html></div>
<ol style="list-style-type: decimal">
<li><strong>Can you see what the following parts of the code do?</strong></li>
</ol>
<div class="sourceCode" id="cb3"><html><body><pre class="r">&gt; i &lt;- 4
&gt; ox_births$day == i
 [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[25] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[37] FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE
[49]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE
[61] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[73] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[85] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
&gt; which(ox_births$day == i)
 [1] 44 45 46 47 48 49 50 51 52 53 54
&gt; ox_births$time[which(ox_births$day == i)]
 [1]  8.10 10.70 11.50  7.20  7.25  9.50  8.50  1.50  4.70  4.70  9.20
&gt; paste("day", 1:7, sep = "")
[1] "day1" "day2" "day3" "day4" "day5" "day6" "day7"
&gt; paste("day", 1:7, sep = " ")
[1] "day 1" "day 2" "day 3" "day 4" "day 5" "day 6" "day 7"</pre></body></html></div>
<p>We return to this matrix later. Until then we calculate summary statistics of the dataset containing the birth times from all days of the week.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r">&gt; birth_times &lt;- ox_births[, "time"]
&gt; sort(birth_times)
 [1]  1.50  2.00  2.10  2.50  2.50  2.60  2.70  2.75  3.40  3.40  3.40  3.60
[13]  3.60  4.00  4.00  4.00  4.10  4.20  4.20  4.25  4.30  4.70  4.70  4.90
[25]  5.00  5.25  5.50  5.60  5.70  5.90  6.10  6.25  6.25  6.40  6.40  6.50
[37]  6.50  6.80  6.90  7.00  7.00  7.20  7.25  7.25  7.30  7.30  7.30  7.50
[49]  7.50  7.50  7.50  7.80  8.10  8.20  8.25  8.30  8.30  8.45  8.50  8.50
[61]  8.50  8.50  8.75  8.90  9.00  9.20  9.25  9.25  9.50  9.50  9.75  9.75
[73] 10.00 10.10 10.20 10.25 10.40 10.40 10.40 10.70 10.70 10.75 11.00 11.20
[85] 11.50 12.75 12.90 14.25 14.30 14.50 14.60 15.00 16.00 16.50 19.00</pre></body></html></div>
</div>
<div id="five-number-summary" class="section level2">
<h2 class="hasAnchor">
<a href="#five-number-summary" class="anchor"></a>Five number summary</h2>
<p>The function <code>five_number</code> calculates the five number summary of data, using the particular method for estimating the lower quartile, median and upper quartile described in the STAT0002 notes.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r">&gt; five_number(birth_times)
  min   25%   50%   75%   max 
 1.50  4.90  7.50  9.75 19.00 </pre></body></html></div>
<p>The <code>summary</code> function can also be used to calculate a five number summary.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r">&gt; summary(birth_times)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  1.500   4.950   7.500   7.723   9.750  19.000 </pre></body></html></div>
<ol start="2" style="list-style-type: decimal">
<li><strong>(If we ignore the fact that <code>summary</code> also calculates the sample mean) does <code>summary</code> produce the same values as <code>five_number</code>?</strong></li>
</ol>
<p>No, the estimates of the lower quartile differ. This is because the functions <code>summary</code> and <code>five_number</code> use different rules to estimate quantiles: <code>summary</code> calls <code>quantile</code> using <code>type = 7</code> whereas <code>five_number</code> uses <code>type = 6</code>. If we call <code>five_number</code> with <code>type = 7</code> we get the same numbers as <code>summary</code>.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r">&gt; five_number(birth_times, type = 7)
  min   25%   50%   75%   max 
 1.50  4.95  7.50  9.75 19.00 </pre></body></html></div>
<p>In fact the function <code>quantile</code> has 9 different options for <code>type</code>. Use <code><a href="https://rdrr.io/r/stats/quantile.html">?quantile</a></code> for more information.</p>
</div>
<div id="sample-mean" class="section level2">
<h2 class="hasAnchor">
<a href="#sample-mean" class="anchor"></a>Sample mean</h2>
<div class="sourceCode" id="cb8"><html><body><pre class="r">&gt; mean(birth_times)
[1] 7.723158</pre></body></html></div>
</div>
<div id="sample-standard-deviation-and-variance" class="section level2">
<h2 class="hasAnchor">
<a href="#sample-standard-deviation-and-variance" class="anchor"></a>Sample standard deviation and variance</h2>
<div class="sourceCode" id="cb9"><html><body><pre class="r">&gt; sd(birth_times)
[1] 3.568097
&gt; var(birth_times)
[1] 12.73132
&gt; sd(birth_times) ^ 2
[1] 12.73132</pre></body></html></div>
</div>
<div id="measures-of-skewness" class="section level2">
<h2 class="hasAnchor">
<a href="#measures-of-skewness" class="anchor"></a>Measures of skewness</h2>
<div class="sourceCode" id="cb10"><html><body><pre class="r">&gt; # Standardized sample skewness
&gt; skew(birth_times)
[1] 0.6254774</pre></body></html></div>
<div class="sourceCode" id="cb11"><html><body><pre class="r">&gt; # Sample quartile skewness
&gt; q_skew(birth_times)
[1] -0.07216495</pre></body></html></div>
<p>Until 2017/18 the STAT0002 notes gave -0.063 as the sample quartile skewness. This was because I used the default setting, <code>type = 7</code>, in the <code>quantile</code> function when calculating it …</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r">&gt; q_skew(birth_times, type = 7)
[1] -0.0625</pre></body></html></div>
</div>
<div id="summary-statistics-for-each-day" class="section level2">
<h2 class="hasAnchor">
<a href="#summary-statistics-for-each-day" class="anchor"></a>Summary statistics for each day</h2>
<p>We can also calculate summary statistics for each of the seven days of the week, i.e. for each of the columns of <code>ox_mat</code>. In the following the effect of the <code>colMeans</code> function is fairly obvious. <code>apply</code> is a useful function. Use <code><a href="https://rdrr.io/r/base/apply.html">?apply</a></code> to see what it does.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r">&gt; five_number(ox_mat, na.rm = TRUE)
      day1    day2   day3 day4    day5   day6    day7
min  2.100  4.0000  2.600  1.5  2.5000  4.000  2.0000
25%  5.800  5.5500  5.000  4.7  4.0000  5.675  2.9125
50%  8.825  7.4000  7.500  8.1  7.4000  7.000  4.6000
75% 10.300 10.6875 10.575  9.5  8.7875 10.150  8.5000
max 19.000 16.5000 14.500 11.5 14.3000 14.600 10.7000</pre></body></html></div>
<div class="sourceCode" id="cb14"><html><body><pre class="r">&gt; summary(ox_mat)
      day1             day2             day3            day4       
 Min.   : 2.100   Min.   : 4.000   Min.   : 2.60   Min.   : 1.500  
 1st Qu.: 6.200   1st Qu.: 5.650   1st Qu.: 6.40   1st Qu.: 5.950  
 Median : 8.825   Median : 7.400   Median : 7.50   Median : 8.100  
 Mean   : 8.766   Mean   : 8.312   Mean   : 8.05   Mean   : 7.532  
 3rd Qu.:10.100   3rd Qu.:10.062   3rd Qu.:10.40   3rd Qu.: 9.350  
 Max.   :19.000   Max.   :16.500   Max.   :14.50   Max.   :11.500  
                                   NA's   :3       NA's   :5       
      day5             day6             day7       
 Min.   : 2.500   Min.   : 4.000   Min.   : 2.000  
 1st Qu.: 4.625   1st Qu.: 6.100   1st Qu.: 3.237  
 Median : 7.400   Median : 7.000   Median : 4.600  
 Mean   : 7.243   Mean   : 8.085   Mean   : 5.537  
 3rd Qu.: 8.300   3rd Qu.:10.100   3rd Qu.: 7.500  
 Max.   :14.300   Max.   :14.600   Max.   :10.700  
 NA's   :2        NA's   :3        NA's   :4       </pre></body></html></div>
<div class="sourceCode" id="cb15"><html><body><pre class="r">&gt; colMeans(ox_mat, na.rm = TRUE)
    day1     day2     day3     day4     day5     day6     day7 
8.765625 8.312500 8.050000 7.531818 7.242857 8.084615 5.537500 </pre></body></html></div>
<div class="sourceCode" id="cb16"><html><body><pre class="r">&gt; apply(ox_mat, 2, sd, na.rm = TRUE)
    day1     day2     day3     day4     day5     day6     day7 
4.296654 3.629348 3.733798 2.937880 3.565532 3.223313 2.887286 </pre></body></html></div>
<div class="sourceCode" id="cb17"><html><body><pre class="r">&gt; skew(ox_mat, na.rm = TRUE)
[1]  0.6868543  0.8553875  0.2874617 -0.5639013  0.4105886  0.5136015  0.4524077</pre></body></html></div>
<div class="sourceCode" id="cb18"><html><body><pre class="r">&gt; q_skew(ox_mat, na.rm = TRUE)
[1] -0.3444444  0.2798054  0.1031390 -0.4166667 -0.4203655  0.4078212  0.3959732</pre></body></html></div>
<script type="text/x-mathjax-config">
   MathJax.Hub.Config({  "HTML-CSS": { minScaleAdjust: 125, availableFonts: [] }  });
</script>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Paul J. Northrop.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
